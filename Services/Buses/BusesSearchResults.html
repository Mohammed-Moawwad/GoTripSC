<!DOCTYPE html>
<html lang="en" dir="auto">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bus Search Results - GoTrip</title>
  <link rel="stylesheet" href="../../HomePage/HomePageBuses.css" />
  <link rel="stylesheet" href="BusesSearchResults.css" />
</head>
<body>
  <!-- ===== Topbar Header (FlightsPage style) ===== -->
  <div class="topbar">
    <div class="brand-wrap">
      <a id="homeBtn" class="brand-link" href="../../HomePage/HomePage.html" title="GoTrip home" aria-label="GoTrip home">
        <span class="brand-badge" aria-hidden="true">
          <img src="../../HomePage/Photos/logo.jpg" alt="GoTrip Logo" id="siteLogoImg" />
        </span>
        <span class="brand-title">GoTrip</span>
      </a>
    </div>

    <nav class="site-nav" aria-label="main navigation">
      <ul class="nav-left">
        <li><a class="nav-link" href="../../HomePage/HomePage.html" data-page="flights">Flights</a></li>
        <li><a class="nav-link" href="../../HomePage/HomePageHotels.html" data-page="hotels">Hotels</a></li>
        <li><a class="nav-link active" href="../../HomePage/HomePageBuses.html" data-page="buses">Buses</a></li>
      </ul>

      <ul class="nav-right">
        <!-- Language dropdown -->
        <li class="lang-dropdown" aria-haspopup="true">
          <button class="lang-btn" id="langBtn">
            EN
            <svg viewBox="0 0 24 24" width="14" height="14">
              <path fill="currentColor" d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <ul class="lang-menu" id="langMenu">
            <li class="lang-item" data-value="EN">English</li>
            <li class="lang-item" data-value="AR">العربية</li>
          </ul>
        </li>

        <!-- Currency dropdown -->
        <li class="cur-dropdown" aria-haspopup="true">
          <button class="cur-btn" id="currencyBtn">
            SAR
            <svg viewBox="0 0 24 24" width="14" height="14">
              <path fill="currentColor" d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <ul class="cur-menu" id="currencyMenu">
            <li class="cur-item" data-value="SAR">SAR - Saudi Riyal</li>
            <li class="cur-item" data-value="USD">USD - US Dollar</li>
            <li class="cur-item" data-value="EUR">EUR - Euro</li>
            <li class="cur-item" data-value="GBP">GBP - British Pound</li>
            <li class="cur-item" data-value="AED">AED - UAE Dirham</li>
          </ul>
        </li>

        <li><a class="small" href="#" id="supportLink">Support</a></li>
        <li><a class="small" href="#" id="myTripsLink">My Trips</a></li>
        <li><a href="../../Login/signin.html" class="signin-btn">Sign in</a></li>
        <li><a href="../../Login/login.html" class="login-btn">Login</a></li>
      </ul>
    </nav>
  </div>

  <!-- ===== Search Card ===== -->
  <section class="search-section">
    <div class="container">
      <div class="search-card">
        <div class="search-head">
          <span class="head-icon" aria-hidden="true">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path fill="currentColor" d="M4 16c0 .88.39 1.67 1 2.22V20c0 .55.45 1 1 1s1-.45 1-1v-1h8v1c0 .55.45 1 1 1s1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V6c0-2.21-1.79-4-4-4H8C5.79 2 4 3.79 4 6v10zm2-6h12v4H6v-4zM7.5 17.5c-.83 0-1.5-.67-1.5-1.5S6.67 14.5 7.5 14.5 9 15.17 9 16s-.67 1.5-1.5 1.5zM16.5 17.5c-.83 0-1.5-.67-1.5-1.5S15.67 14.5 16.5 14.5 18 15.17 18 16s-.67 1.5-1.5 1.5z"/>
            </svg>
          </span>
          <span class="head-title">Search Buses</span>
        </div>

        <form id="searchForm" class="grid-form" autocomplete="off">
          <div class="field">
            <label for="fromInput">From</label>
            <input id="fromInput" placeholder="City or Station" required />
          </div>
          <div class="field">
            <label for="toInput">To</label>
            <input id="toInput" placeholder="City or Station" required />
          </div>
          <div class="field">
            <label for="departInput">Departure</label>
            <input id="departInput" type="date" required />
          </div>
          <div class="field">
            <label for="returnInput">Return</label>
            <input id="returnInput" type="date" />
          </div>
          <div class="field">
            <label for="passengersInput">Passengers</label>
            <select id="passengersInput">
              <option value="1">1 Adult</option>
              <option value="2">2 Adults</option>
              <option value="4">Family (4)</option>
              <option value="6">Group (6+)</option>
            </select>
          </div>
          <div class="field">
            <label for="classInput">Class</label>
            <select id="classInput">
              <option value="">All</option>
              <option value="Economy">Economy</option>
              <option value="Premium">Premium</option>
              <option value="VIP">VIP</option>
            </select>
          </div>
          <label class="checkbox">
            <input type="checkbox" id="directOnlyInput" />
            <span>Direct buses only</span>
          </label>
          <button class="search-btn" type="submit">Search</button>
        </form>
      </div>
    </div>
  </section>

  <!-- ===== Results Area ===== -->
  <section class="results-section">
    <div class="container">
      <!-- Results Header -->
      <div class="results-header">
        <h2 id="resultsTitle">Searching...</h2>
        <div class="sort-tabs">
          <button class="sort-tab active" data-sort="recommended">Recommended</button>
          <button class="sort-tab" data-sort="cheapest">Cheapest</button>
          <button class="sort-tab" data-sort="fastest">Fastest</button>
        </div>
      </div>

      <div class="results-layout">
        <!-- Filters Column -->
        <aside class="filters-sidebar" id="filtersSidebar">
          <div class="filters-header">
            <h3>Filters</h3>
            <button class="reset-btn" id="resetFilters">Reset</button>
          </div>

          <div class="filter-group">
            <h4>Stops</h4>
            <label class="filter-checkbox">
              <input type="checkbox" name="stops" value="0" />
              <span>Nonstop</span>
            </label>
            <label class="filter-checkbox">
              <input type="checkbox" name="stops" value="1" />
              <span>1 Stop</span>
            </label>
            <label class="filter-checkbox">
              <input type="checkbox" name="stops" value="2" />
              <span>2+ Stops</span>
            </label>
          </div>

          <div class="filter-group">
            <h4>Price Range (SAR)</h4>
            <div class="price-inputs">
              <input type="number" id="minPrice" placeholder="Min" min="0" />
              <span>-</span>
              <input type="number" id="maxPrice" placeholder="Max" min="0" />
            </div>
            <input type="range" id="priceSlider" min="0" max="200" step="5" value="200" />
            <div class="price-labels">
              <span id="priceMin">0</span>
              <span id="priceMax">200</span>
            </div>
          </div>

          <div class="filter-group">
            <h4>Operator</h4>
            <div id="operatorFilters">
              <!-- Populated dynamically -->
            </div>
          </div>

          <div class="filter-group">
            <h4>Departure Time</h4>
            <label class="filter-checkbox">
              <input type="checkbox" name="time" value="morning" />
              <span>Morning (06:00 - 12:00)</span>
            </label>
            <label class="filter-checkbox">
              <input type="checkbox" name="time" value="afternoon" />
              <span>Afternoon (12:00 - 18:00)</span>
            </label>
            <label class="filter-checkbox">
              <input type="checkbox" name="time" value="night" />
              <span>Night (18:00 - 06:00)</span>
            </label>
          </div>

          <button class="apply-filters-btn" id="applyFilters">Apply Filters</button>
        </aside>

        <!-- Results List -->
        <main class="results-main">
          <!-- Loading State -->
          <div id="loadingState" class="loading-state">
            <div class="spinner"></div>
            <p>Loading bus trips...</p>
          </div>

          <!-- Results List -->
          <div id="resultsList" class="results-list" style="display: none;">
            <!-- Results will be rendered here by JS -->
          </div>

          <!-- Empty State -->
          <div id="emptyState" class="empty-state" style="display: none;">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none">
              <path fill="#ccc" d="M4 16c0 .88.39 1.67 1 2.22V20c0 .55.45 1 1 1s1-.45 1-1v-1h8v1c0 .55.45 1 1 1s1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V6c0-2.21-1.79-4-4-4H8C5.79 2 4 3.79 4 6v10z"/>
            </svg>
            <h3>No buses found</h3>
            <p>Try adjusting your search criteria or filters</p>
            <button class="reset-btn" onclick="document.getElementById('resetFilters').click()">Reset Filters</button>
          </div>

          <!-- Pagination -->
          <div id="pagination" class="pagination" style="display: none;">
            <button id="prevPage" class="page-btn" disabled>← Previous</button>
            <div id="pageNumbers" class="page-numbers"></div>
            <button id="nextPage" class="page-btn">Next →</button>
          </div>
        </main>
      </div>
    </div>
  </section>

  <!-- ====== Footer ====== -->
  <footer class="site-footer">
    <div class="footer-grid">
      <div class="f-col">
        <div class="f-brand">GoTrip</div>
        <p class="muted">
          Your trusted travel partner for flights, hotels, and buses
          worldwide.
        </p>
      </div>

      <div class="f-col">
        <h4>About GoTrip</h4>
        <ul class="f-links">
          <li><a href="#">Our Story</a></li>
          <li><a href="#">Careers</a></li>
          <li><a href="#">Press</a></li>
          <li><a href="#">Partnerships</a></li>
        </ul>
      </div>

      <div class="f-col">
        <h4>Support</h4>
        <ul class="f-links">
          <li><a href="#">Contact Us</a></li>
          <li><a href="#">FAQs</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms of Service</a></li>
        </ul>
      </div>

      <div class="f-col">
        <h4>Connect</h4>
        <ul class="f-links">
          <li><a href="#">Blog</a></li>
          <li><a href="#">Newsletter</a></li>
          <li><a href="#">Travel Guides</a></li>
          <li><a href="#">Help Center</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="copy">© 2025 GoTrip. All rights reserved.</div>
      <div class="social">
        <a href="#" aria-label="Facebook">f</a>
        <a href="#" aria-label="Instagram">◎</a>
        <a href="#" aria-label="X">𝕏</a>
        <a href="#" aria-label="LinkedIn">in</a>
      </div>
    </div>
  </footer>

  <script src="BusesSearchResults.js"></script>
</body>
</html>
