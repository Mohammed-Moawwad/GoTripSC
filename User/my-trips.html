<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Trips - GoTrip</title>
  <link rel="stylesheet" href="../HomePage/HomePage.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
  <style>
  body { margin:0; background: #f4f7fa; }
  .trips-container { max-width: none; margin: 2rem 0; display: flex; width:100%; }
  .sidebar {
    width: 180px;
    background: #fff;
    border-right: 1px solid #eef2ff;
    display: flex; flex-direction: column; align-items: stretch;
    padding: 1.25rem 0.9rem 1rem 0.9rem;
    box-shadow: 0 2px 8px #0001;
    margin-right: 1.5rem;
  }
  .sidebar .logo { text-align: center; margin: 0 0 1.6rem 0; }
  .sidebar .logo .logo-box {
    width: 72px; height: 72px; border-radius: 12px; background: #fff; display: inline-flex; align-items: center; justify-content: center;
    box-shadow: 0 6px 18px rgba(15,23,42,0.06);
  }
  .sidebar .logo img { width: 56px; height: auto; display: block; }
  .sidebar nav { flex: 1; padding-top: 0.5rem; }
  .sidebar nav a {
    display: flex; align-items: center; gap: 0.85em; color: #111827; text-decoration: none; font-size: 1.02em;
    padding: 0.8em 0.9em; border-radius: 12px; margin-bottom: 0.6rem; transition: background 0.15s, color 0.15s, transform 0.08s;
    position: relative;
  }
  .sidebar nav a i { font-size: 1.15em; width: 22px; text-align: center; color: #374151; }
  .sidebar nav a.active, .sidebar nav a:focus {
    background: #eef2ff; color: #2563eb; font-weight: 600; box-shadow: 0 6px 18px rgba(37,99,235,0.06);
  }
  .sidebar nav a.active::before {
    content: '';
    position: absolute;
    left: -6px;
    top: 8px;
    bottom: 8px;
    width: 6px;
    background: #2563eb;
    border-radius: 8px;
  }
  .sidebar nav a:hover { background: #f8fafc; color: #2563eb; transform: translateY(-1px); }
  /* Disable hover styles until user interaction to avoid any hover visuals on page load */
  body.no-hover .sidebar nav a:hover,
  body.no-hover .sidebar .bottom-links a.logout:hover {
    background: none !important;
    color: inherit !important;
    transform: none !important;
    box-shadow: none !important;
  }
  .sidebar .bottom-links { margin-top: auto; display:flex; flex-direction:column; align-items:center; padding-bottom:0.8rem; }
  .sidebar .bottom-links a { color: #6b7280; font-size: 0.98em; display: flex; align-items: center; gap: 0.7em; margin-bottom: 0.6rem; text-decoration:none; }
  .sidebar .bottom-links a:hover { color: #2563eb; }
  .sidebar .bottom-links a.logout {
    display: inline-flex; align-items: center; gap: 0.6em;
    background: #ef4444; color: #fff; font-weight: 700; padding: 0.6em 1.4em; border-radius: 14px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.12); text-decoration: none; width: auto; margin: 0.6rem auto 0.9rem; border: none;
    transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease;
  }
  .sidebar .bottom-links a.logout i { font-size: 1.05em; color: #fff; display:inline-flex; align-items:center; justify-content:center; padding:0.28em; border-radius:6px; background: rgba(255,255,255,0.06); }
  .sidebar .bottom-links a.logout:hover { background: #dc2626; color: #fff; transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,0.14); }
  .main-content { flex: 1; background: #fff; border-radius: 16px; box-shadow: 0 2px 8px #0001; padding: 2.5rem 2rem; }
  .main-content h2 { font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5em; }
  .tabs { display: flex; gap: 2.5em; border-bottom: 2px solid #e5e7eb; margin-bottom: 2em; }
  .tab { padding-bottom: 0.5em; cursor: pointer; font-weight: 600; color: #888; border-bottom: 2px solid transparent; }
  .tab.active { color: #2563eb; border-bottom: 2px solid #2563eb; }
  .no-trips { text-align: center; margin-top: 3em; }
  .no-trips img { width: 120px; margin-bottom: 1.5em; }
  .no-trips .book-btn { background: #2563eb; color: #fff; border: none; border-radius: 24px; padding: 0.9em 2.2em; font-size: 1.1em; font-weight: 600; margin-top: 1.5em; cursor: pointer; transition: background 0.2s; }
  .no-trips .book-btn:hover { background: #1d4ed8; }
  .no-trips .where { color: #2563eb; font-size: 1.05em; margin-top: 1em; display: inline-block; }
  .profile-setup { background: #eff6ff; border: 1.5px solid #93c5fd; border-radius: 10px; padding: 1em 1.2em; margin-bottom: 2em; }
  .profile-setup .progress-bar { background: #e0e7ff; border-radius: 6px; height: 7px; margin-bottom: 0.7em; }
  .profile-setup .progress { background: #2563eb; height: 100%; border-radius: 6px; width: 40%; }
  .profile-setup .setup-title { font-weight: 700; font-size: 1.05em; margin-bottom: 0.2em; }
  .profile-setup .setup-link { color: #2563eb; font-weight: 600; text-decoration: none; }
  </style>
</head>
<body>
  <div class="trips-container">
    <aside class="sidebar">
      <div class="logo"><a href="../HomePage/HomePage.html"><div class="logo-box"><img src="/HomePage/Photos/logo.jpg" alt="GoTrip Logo" style="cursor:pointer;object-fit:contain;" /></div></a></div>
      <nav>
        <a href="../HomePage/HomePage.html" class="nav-item"><i class="bi bi-house-door"></i><span class="label">Home</span></a>
        <a href="../HomePage/HomePage.html" class="nav-item"><i class="bi bi-airplane"></i><span class="label">Flights</span></a>
        <a href="../HomePage/HomePageBuses.html" class="nav-item"><i class="bi bi-bus-front"></i><span class="label">Buses</span></a>
        <a href="../HomePage/HomePageHotels.html" class="nav-item"><i class="bi bi-building"></i><span class="label">Hotels</span></a>
  <a href="MyBookings.html" class="nav-item"><i class="bi bi-calendar-check"></i><span class="label">My Bookings</span></a>
  <a href="profile.html" class="nav-item"><i class="bi bi-person"></i><span class="label">Profile</span></a>
  <a href="UserDashboard.html" class="nav-item"><i class="bi bi-speedometer2"></i><span class="label">Dashboard</span></a>
        <a href="#support" class="nav-item"><i class="bi bi-question-circle"></i><span class="label">Help & Support</span></a>
      </nav>
      <div class="bottom-links">
        <a href="#" id="logoutBtn" class="logout" onclick="logout()"><i class="bi bi-box-arrow-right"></i> Log out</a>
        <a href="#about"><i class="bi bi-info-circle"></i> About Us</a>
        <a href="#terms"><i class="bi bi-file-earmark-text"></i> Terms & Conditions</a>
        <a href="#privacy"><i class="bi bi-shield-lock"></i> Privacy Policy</a>
        <a href="#"><i class="bi bi-facebook"></i></a>
        <a href="#"><i class="bi bi-instagram"></i></a>
      </div>
    </aside>
    <main class="main-content">
      <h2>Flights bookings</h2>
      <div style="color:#888; margin-bottom:2em;">Check or retrieve your booking details</div>
      <div class="tabs">
        <div class="tab active">UPCOMING</div>
        <div class="tab">PAST</div>
        <div class="tab">CANCELLED</div>
      </div>
      <div class="no-trips">
        <img src="https://img.icons8.com/ios/452/airplane-take-off--v2.png" alt="No trips" />
  <div style="font-size:1.35em; font-weight:700; margin:1em 0 0.5em;color:#2563eb;">Book Your Next Adventure Now</div>
        <div style="color:#666; margin-bottom:1.2em;">Once you have booked any flights, you will see them here.</div>
    <!-- Dashboard quick link removed as requested -->
        <div style="margin-bottom:1.2em;">
          <a href="#" style="color:#2563eb;font-weight:600;text-decoration:underline;margin-right:1.5em;">Need help booking?</a>
          <a href="#" style="color:#2563eb;font-weight:600;text-decoration:underline;">Retrieve an existing booking</a>
        </div>
  <div class="where" style="margin-bottom:2em;color:#2563eb;"> <span style="font-size:1.2em;">&#8505;</span> Where's my booking</div>
        <div style="background:#eff6ff;border:1.5px solid #93c5fd;border-radius:10px;padding:1em 1.2em;max-width:350px;margin:2em auto 0 auto;">
          <div style="font-weight:700;color:#2563eb;margin-bottom:0.3em;">Where to Go Next?</div>
          <div style="color:#444;font-size:0.98em;">See our Top Weekend Getaways from <span style="font-weight:600;">Your City</span>:</div>
          <div style="margin-top:0.7em;">
            <a href="../HomePage/HomePageHotels.html" style="color:#2563eb;font-weight:600;margin-right:1.2em;">Hotels Deals</a>
            <a href="../HomePage/HomePageBuses.html" style="color:#2563eb;font-weight:600;">Bus Offers</a>
          </div>
        </div>
      </div>
    </main>
  </div>
  <script>
    // Fill user info from localStorage if available
    const user = JSON.parse(localStorage.getItem('gotripUser'));
    if (user) {
      document.getElementById('userEmail').textContent = user.email;
      document.getElementById('userEmailSub').textContent = user.email;
      // Avatar: use initials
      const initials = (user.firstName?.[0] || 'U').toUpperCase() + (user.lastName?.[0] || 'U').toUpperCase();
      document.getElementById('userAvatar').textContent = initials;
    }

    // Sidebar navigation active state for new .nav-item structure
    const navItems = Array.from(document.querySelectorAll('.sidebar .nav-item'));
    // Start with no hover/active visuals until user interacts
    document.body.classList.add('no-hover');
    const removeNoHover = () => {
      document.body.classList.remove('no-hover');
      window.removeEventListener('mousemove', removeNoHover);
      window.removeEventListener('touchstart', removeNoHover);
    };
    window.addEventListener('mousemove', removeNoHover);
    window.addEventListener('touchstart', removeNoHover);

    // click handlers to toggle active state (only on click)
    navItems.forEach(a => {
      a.addEventListener('click', function(e) {
        const href = this.getAttribute('href');
        if (href === '#' || href === '') {
          e.preventDefault();
        }
        navItems.forEach(n => n.classList.remove('active'));
        this.classList.add('active');
      });
    });
    
    // Logout helper: clears stored user and redirects to sign-in page
    function logout() {
      try {
        localStorage.removeItem('gotripUser');
      } catch (e) {
        console.warn('Error clearing localStorage during logout', e);
      }
      window.location.href = '../Login/signin.html';
    }
  </script>
</body>
</html>
